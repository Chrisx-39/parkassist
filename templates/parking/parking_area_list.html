{% extends "base.html" %}
{% block content %}
<div class="mt-10">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Available Parking Areas</h1>

    {% if areas %}
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for area in areas %}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition border border-gray-100">
                    <h2 class="text-xl font-semibold text-gray-800 mb-2">{{ area.name }}</h2>
                    <p class="text-gray-600 mb-3">
                        Occupancy: 
                        <span class="font-medium text-blue-700">
                            {{ area.occupied_slots_count }}/{{ area.total_capacity }}
                        </span>
                    </p>
                    <div class="relative w-full h-2 bg-gray-200 rounded-full overflow-hidden mb-4">
                        <div class="absolute top-0 left-0 h-full bg-blue-600" 
                             style="width: {{ area.occupied_slots_count|divisibleby:area.total_capacity|default_if_none:0 }}%;">
                        </div>
                    </div>
                    <a href="{% url 'parking_area_detail' area.id %}" 
                       class="inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                       View Slots
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-gray-600 text-center py-10 text-lg">
            ðŸš« No parking areas available.
        </div>
    {% endif %}
</div>
{% endblock %}
